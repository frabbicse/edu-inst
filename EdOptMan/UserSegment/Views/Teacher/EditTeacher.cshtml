@model UserSegment.Models.TeacherEntryModel

@{
    ViewData["Title"] = "Update Teacher";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-header">
    <h1 class="page-title">
        <span>📝</span>
        Update Teacher Information
    </h1>
    <a href="@Url.Action("Index", "Teacher")" class="btn-back">← Back to Teacher List</a>
</div>

<div class="container">
    <div class="form-card">
        <h2>👨‍🏫 Edit Teacher Details</h2>

        @using (Html.BeginForm("UpdateTeacherInfo", "Teacher", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)

            <div class="form-row">

                <!-- PERSONAL INFORMATION -->
                <div class="form-group">
                    <label>First Name<span style="color:red">*</span></label>
                    @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", required = "required" })
                </div>

                <div class="form-group">
                    <label>Middle Name</label>
                    @Html.TextBoxFor(m => m.MiddleName, new { @class = "form-control" })
                </div>

                <div class="form-group">
                    <label>Last Name<span style="color:red">*</span></label>
                    @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", required = "required" })
                </div>

                <div class="form-group">
                    <label>Date of Birth<span style="color:red">*</span></label>
                    @Html.TextBoxFor(m => m.DateOfBirth, "{0:yyyy-MM-dd}", new { type = "date", @class = "form-control", required = "required" })
                </div>

                <div class="form-group">
                    <label>Gender<span style="color:red">*</span></label>
                    @Html.DropDownListFor(m => m.Gender,
                    new SelectList(new[] { "Male", "Female", "Other" }, Model.Gender),
                                "Select Gender",
                                new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Marital Status</label>
                @Html.DropDownListFor(m => m.MaritalStatus,
                                new SelectList(new[] { "Single", "Married", "Divorced", "Widowed" }, Model.MaritalStatus),
                                "Select Status",
                                new { @class = "form-control" })
            </div>

            <!-- CONTACT INFORMATION -->
            <div class="form-group">
                <label>Email<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.Email, new { type = "email", @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Phone Number<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Alternate Phone</label>
                @Html.TextBoxFor(m => m.AlternatePhone, new { @class = "form-control" })
            </div>

            <div class="form-group" style="grid-column:1 / -1;">
                <label>Address<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.Address, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>City<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.City, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>State<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.State, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Zip Code<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.ZipCode, new { @class = "form-control", required = "required" })
            </div>

            <!-- PROFESSIONAL INFO -->
            <div class="form-group">
                <label>Teacher ID<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.TeacherId, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Join Date<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.JoinDate, "{0:yyyy-MM-dd}", new { type = "date", @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Department<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.DepartmentId, new { type = "number", min = "1", @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Designation<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.Designation, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Qualification<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.Qualification, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Experience (Years)<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.ExperienceYears, new { type = "number", min = "0", @class = "form-control", required = "required" })
            </div>

            <div class="form-group" style="grid-column:1 / -1;">
                <label>Specialization</label>
                @Html.TextBoxFor(m => m.Specialization, new { @class = "form-control" })
            </div>

            <div class="form-group" style="grid-column:1 / -1;">
                <label>Subjects<span style="color:red">*</span></label>
                <div class="checkbox-group">
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Mathematics" checked="@(Model.Subjects.Contains("Mathematics"))">
                        <span>Mathematics</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Science" checked="@(Model.Subjects.Contains("Science"))">
                        <span>Science</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="English" checked="@(Model.Subjects.Contains("English"))">
                        <span>English</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="History" checked="@(Model.Subjects.Contains("History"))">
                        <span>History</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Geography" checked="@(Model.Subjects.Contains("Geography"))">
                        <span>Geography</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Physics" checked="@(Model.Subjects.Contains("Physics"))">
                        <span>Physics</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Chemistry" checked="@(Model.Subjects.Contains("Chemistry"))">
                        <span>Chemistry</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Biology" checked="@(Model.Subjects.Contains("Biology"))">
                        <span>Biology</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" name="Subjects" value="Computer Science" checked="@(Model.Subjects.Contains("Computer Science"))">
                        <span>Computer Science</span>
                    </label>
                </div>
            </div>

            <!-- SALARY INFO -->
            <div class="form-group">
                <label>Basic Salary<span style="color:red">*</span></label>
                @Html.TextBoxFor(m => m.BasicSalary, new { type = "number", step = "0.01", @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                <label>Bank Name</label>
                @Html.TextBoxFor(m => m.BankName, new { @class = "form-control" })
            </div>

            <div class="form-group">
                <label>Account Number</label>
                @Html.TextBoxFor(m => m.AccountNumber, new { @class = "form-control" })
            </div>

            <!-- EMERGENCY INFO -->
            <div class="form-group">
                <label>Emergency Contact Name</label>
                @Html.TextBoxFor(m => m.EmergencyContactName, new { @class = "form-control" })
            </div>

            <div class="form-group">
                <label>Emergency Contact Number</label>
                @Html.TextBoxFor(m => m.EmergencyContactNumber, new { @class = "form-control" })
            </div>

            <div class="form-group">
                <label>Blood Group</label>
                @Html.TextBoxFor(m => m.BloodGroup, new { @class = "form-control" })
            </div>

            <div class="form-group" style="grid-column:1 / -1;">
                <label>Notes</label>
                @Html.TextAreaFor(m => m.Notes, new { @class = "form-control", rows = "3" })
            </div>

            <!-- PROFILE PHOTO -->
            <div class="form-group" style="grid-column:1 / -1;">
                <label>Profile Photo</label>
                <input type="file" name="ProfilePhoto" class="form-control" />

                @if (!string.IsNullOrEmpty(Model.ProfilePhotoPath))
                    {
                        <div style="margin-top:10px;">
                            <img src="@Model.ProfilePhotoPath"
                                 alt="Profile Photo"
                                 style="width:120px;height:120px;border-radius:10px;object-fit:cover;" />
                        </div>
                    }
                </div>

            </div>

            <div style="display:flex; gap:15px; justify-content:flex-end; margin-top:30px;">
                <a href="@Url.Action("Index", "Teacher")" class="btn-cancel"
                   style="padding: 12px 30px; background: #f0f0f0; border-radius:8px; text-decoration:none;">
                    Cancel
                </a>

                <button type="submit" class="btn-primary">💾 Update Teacher</button>
            </div>
        }
    </div>
</div>
